import{r as S}from"./index.ed373d49.js";var k={exports:{}},R={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J=S,Q=Symbol.for("react.element"),z=Symbol.for("react.fragment"),W=Object.prototype.hasOwnProperty,$=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function L(r,e,t){var n,o={},l=null,s=null;t!==void 0&&(l=""+t),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)W.call(e,n)&&!V.hasOwnProperty(n)&&(o[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)o[n]===void 0&&(o[n]=e[n]);return{$$typeof:Q,type:r,key:l,ref:s,props:o,_owner:$.current}}R.Fragment=z;R.jsx=L;R.jsxs=L;k.exports=R;var c=k.exports,a={};a.DIGITS="123456789";var C="ABCDEFGHI",E=a.DIGITS,h=null,O=null,I=null,j=null,B=17,A=81,G={easy:62,medium:53,hard:44,"very-hard":35,insane:26,inhuman:17};a.BLANK_CHAR=".";a.BLANK_BOARD=".................................................................................";function X(){h=a._cross(C,E),O=a._get_all_units(C,E),I=a._get_square_units_map(h,O),j=a._get_square_peers_map(h,I)}a.generate=function(r,e){(typeof r=="string"||typeof r>"u")&&(r=G[r]||G.easy),r=a._force_range(r,A+1,B);for(var t="",n=0;n<A;++n)t+=".";var o=a._get_candidates_map(t),l=a._shuffle(h);for(var s in l){var f=l[s],i=a._rand_range(o[f].length),_=o[f][i];if(!a._assign(o,f,_))break;var p=[];for(s in h)f=h[s],o[f].length===1&&p.push(o[f]);if(p.length>=r&&a._strip_dups(p).length>=8){var g="",m=[];for(n in h)f=h[n],o[f].length===1?(g+=o[f],m.push(n)):g+=a.BLANK_CHAR;var N=m.length;if(N>r)for(m=a._shuffle(m),n=0;n<N-r;++n){var b=parseInt(m[n]);g=g.substr(0,b)+a.BLANK_CHAR+g.substr(b+1)}if(a.solve(g))return g}}return a.generate(r)};a.solve=function(r,e){var t=a.validate_board(r);if(t!==!0)throw t;var n=0;for(var o in r)r[o]!==a.BLANK_CHAR&&a._in(r[o],a.DIGITS)&&++n;if(n<B)throw"Too few givens. Minimum givens is "+B;e=e||!1;var l=a._get_candidates_map(r),s=a._search(l,e);if(s){var f="";for(var i in s)f+=s[i];return f}return!1};a.get_candidates=function(r){var e=a.validate_board(r);if(e!==!0)throw e;var t=a._get_candidates_map(r);if(!t)return!1;var n=[],o=[],l=0;for(var s in t){var f=t[s];o.push(f),l%9===8&&(n.push(o),o=[]),++l}return n};a._get_candidates_map=function(r){var e=a.validate_board(r);if(e!==!0)throw e;var t={},n=a._get_square_vals_map(r);for(var o in h)t[h[o]]=a.DIGITS;for(var l in n){var s=n[l];if(a._in(s,a.DIGITS)){var f=a._assign(t,l,s);if(!f)return!1}}return t};a._search=function(r,e){if(!r)return!1;e=e||!1;var t=0;for(var n in h){var o=h[n],l=r[o].length;l>t&&(t=l)}if(t===1)return r;var s=10,f=null;for(n in h)o=h[n],l=r[o].length,l<s&&l>1&&(s=l,f=o);var i=r[f];if(e){for(_=i.length-1;_>=0;--_)if(p=i[_],g=JSON.parse(JSON.stringify(r)),m=a._search(a._assign(g,f,p),e),m)return m}else for(var _ in i){var p=i[_],g=JSON.parse(JSON.stringify(r)),m=a._search(a._assign(g,f,p));if(m)return m}return!1};a._assign=function(r,e,t){var n=r[e].replace(t,"");for(var o in n){var l=n[o],s=a._eliminate(r,e,l);if(!s)return!1}return r};a._eliminate=function(r,e,t){if(!a._in(t,r[e]))return r;r[e]=r[e].replace(t,"");var n=r[e].length;if(n===1){var o=r[e];for(var l in j[e]){var s=j[e][l],f=a._eliminate(r,s,o);if(!f)return!1}}if(n===0)return!1;for(var i in I[e]){var _=I[e][i],p=[];for(var g in _){var m=_[g];a._in(t,r[m])&&p.push(m)}if(p.length===0)return!1;if(p.length===1&&(f=a._assign(r,p[0],t),!f))return!1}return r};a._get_square_vals_map=function(r){var e={};if(r.length!==h.length)throw"Board/squares length mismatch.";for(var t in h)e[h[t]]=r[t];return e};a._get_square_units_map=function(r,e){var t={};for(var n in r){var o=r[n],l=[];for(var s in e){var f=e[s];f.indexOf(o)!==-1&&l.push(f)}t[o]=l}return t};a._get_square_peers_map=function(r,e){var t={};for(var n in r){var o=r[n],l=e[o],s=[];for(var f in l){var i=l[f];for(var _ in i){var p=i[_];s.indexOf(p)===-1&&p!==o&&s.push(p)}}t[o]=s}return t};a._get_all_units=function(r,e){var t=[];for(var n in r)t.push(a._cross(r[n],e));for(var o in e)t.push(a._cross(r,e[o]));var l=["ABC","DEF","GHI"],s=["123","456","789"];for(var f in l)for(var i in s)t.push(a._cross(l[f],s[i]));return t};a.board_string_to_grid=function(r){var e=[],t=[];for(var n in r)t.push(r[n]),n%9===8&&(e.push(t),t=[]);return e};a.board_grid_to_string=function(r){for(var e="",t=0;t<9;++t)for(var n=0;n<9;++n)e+=r[t][n];return e};a.print_board=function(r){var e=a.validate_board(r);if(e!==!0)throw e;var t=" ",n=`
`,o="  ",l=`
`,s="";for(var f in r){var i=r[f];s+=i+t,f%3===2&&(s+=o),f%9===8&&(s+=n),f%27===26&&(s+=l)}console.log(s)};a.validate_board=function(r){if(!r)return"Empty board";if(r.length!==A)return"Invalid board size. Board must be exactly "+A+" squares.";for(var e in r)if(!a._in(r[e],a.DIGITS)&&r[e]!==a.BLANK_CHAR)return"Invalid board character encountered at index "+e+": "+r[e];return!0};a._cross=function(r,e){var t=[];for(var n in r)for(var o in e)t.push(r[n]+e[o]);return t};a._in=function(r,e){return e.indexOf(r)!==-1};a._first_true=function(r){for(var e in r)if(r[e])return r[e];return!1};a._shuffle=function(r){for(var e=[],t=0;t<r.length;++t)e.push(!1);for(t in r){for(var n=a._rand_range(r.length);e[n];)n=n+1>r.length-1?0:n+1;e[n]=r[t]}return e};a._rand_range=function(r,e){if(e=e||0,r)return Math.floor(Math.random()*(r-e))+e;throw"Range undefined"};a._strip_dups=function(r){var e=[],t={};for(var n in r){var o=r[n];t[o]||(e.push(o),t[o]=!0)}return e};a._force_range=function(r,e,t){return t=t||0,r=r||0,r<t?t:r>e?e:r};X();const Y=()=>a;function Z({board:r,initialBoard:e,handleInput:t,gridKey:n,gridSolved:o}){return S.useEffect(()=>{},[r,e,t]),c.jsxs("div",{className:"flex flex-col relative",style:{width:"400px",height:"400px"},children:[c.jsx("div",{className:"text-white border border-blue-800",children:r.map((l,s)=>c.jsx("div",{className:"grid grid-cols-9",children:l.map((f,i)=>c.jsx("div",{className:`${s%3==0?"border-t border-blue-800":""} ${i%3==0?"border-l border-blue-800":""}`,children:c.jsx("input",{type:"text",className:"text-center text-3xl bg-transparent w-12 h-12 disabled:bg-transparent disabled:text-gray-500 font-bold disabled:font-normal",value:f,disabled:e[s][i]!=".",maxLength:1,onChange:_=>t(_,s,i)})},i))},s))}),c.jsx("div",{className:"-z-10 opacity-40 absolute top-0 left-0 grid grid-rows-3",style:{width:"400px",height:"400px"},children:o&&o.map((l,s)=>c.jsx("div",{className:"grid grid-cols-3 items-center justify-center",children:l.map((f,i)=>c.jsx("div",{className:"text-8xl font-bold text-center text-blue-800 p-0",children:f?n[s][i]:""},i))},s))})]})}function q({message:r}){return c.jsx("div",{style:{maxWidth:"500px",overflowWrap:"break-word"},className:"text-white text-base py-8 px-4 lg:px-0",children:r})}function rr({handleDecrypt:r,message:e}){const[t,n]=S.useState(Array(9).fill(""));function o(l,s){const f=[...t],i=l.target.value.slice(-1);f[s]=i,n(f),r(f.join(""))}return c.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[c.jsx("div",{className:"flex items-center gap-3",children:t.map((l,s)=>c.jsx("input",{type:"text",className:"text-4xl p-3 w-12 h-12 text-center selection:text-blue-200 rounded-2xl bg-transparent text-red-700 border border-red-800",value:l,onChange:f=>o(f,s)},s))}),c.jsx("div",{className:"flex flex-col items-center justify-center gap-2 break-words",children:c.jsx(q,{message:e})})]})}function tr(){const r=Y(),[e,t]=S.useState([]),[n,o]=S.useState([]),[l,s]=S.useState([[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]]),[f,i]=S.useState([["f","S","0"],["c","1","e"],["t","y","1"]]),_="233d10065d4516105f0721590c110111595207375143521019095d0332c10c4245071c110320530c5f0111594408735390550c1316119c3d59005e49540c5f0773430652101117520f3210075445161045157341165445061c41143643065f11155944087351925e45101c11032b4006430c1117520f324343484517165f0930590e58001a0d5e157d1032440054115e1f7340165401150a11023643005e08040b580b3a424354161b0a11043a4410111c541c5f053c5e17430406595d077346064301151d541432101050071d1d4414be51435500000bd0157354061106151d5046265e0c11011159540a3f5f101f",[p,g]=S.useState(_),[m,N]=S.useState(!1),b="fS0c1ety1";function T(u){return n[u]}function K(u){return n.map(v=>v[u])}function D(u,v){return n.slice(u-u%3,u-u%3+3).map(d=>d.slice(v-v%3,v-v%3+3)).flat()}function P(u,v,d){return T(v).includes(u)||K(d).includes(u)||D(v,d).includes(u)}function H(u,v){if(D(u,v).every(d=>d!="")){const d=[...l],x=Math.floor(u/3),y=Math.floor(v/3);d[x][y]=!0}}function M(u,v,d){const x=u.target.value;if(!P(x,v,d)||x==""){const w=[...n];w[v][d]=x,o([...w]),H(v,d)}}function U(u="",v=""){for(var d="",x=0;x<u.length;x+=2){var y=parseInt(u.substr(x,2),16),w=v.charCodeAt(x/2%v.length);d+=String.fromCharCode(y^w)}return d}function F(u){if(u==""){g(_);return}const v=U(_,u);g(v),u==b&&N(!0)}return S.useEffect(()=>{const u=".2184937558761...943.27..817.5.3.9..312.96857...75.134.965847..2...67.1....321596";console.log(r.print_board(r.solve(u)));const v=r.board_string_to_grid(u);t(v),o(v.map(d=>d.map(x=>x=="."?"":x)))},[]),c.jsxs("div",{className:"w-full lg:max-w-screen-lg xl:max-w-screen-xl mx-auto flex flex-col justify-between lg:gap-10 px-4 lg:px-0",children:[c.jsxs("div",{className:"w-full flex flex-col lg:flex-row items-center justify-center lg:justify-between gap-10",children:[c.jsx(Z,{board:n,handleInput:M,initialBoard:e,gridKey:f,gridSolved:l}),c.jsx(rr,{handleDecrypt:F,keySecret:b,message:p})]}),m&&c.jsx("div",{className:"flex mt-6 lg:mt-0",children:c.jsx("p",{className:"text-red-500 text-center font-bold",children:"Has decodificado otro año en tu existencia digital. Cada bit revela una parte de tu historia. Que sigas desencriptando el mundo a tu alrededor y que cada año te acerque a la perfección del código. ¡Feliz cumpleaños, maestro del binario!"})})]})}export{tr as default};
