import{r as S}from"./index.ed373d49.js";var k={exports:{}},R={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J=S,Q=Symbol.for("react.element"),z=Symbol.for("react.fragment"),W=Object.prototype.hasOwnProperty,$=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function L(r,e,t){var n,s={},l=null,o=null;t!==void 0&&(l=""+t),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)W.call(e,n)&&!V.hasOwnProperty(n)&&(s[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Q,type:r,key:l,ref:o,props:s,_owner:$.current}}R.Fragment=z;R.jsx=L;R.jsxs=L;k.exports=R;var c=k.exports,a={};a.DIGITS="123456789";var C="ABCDEFGHI",E=a.DIGITS,h=null,O=null,I=null,j=null,B=17,A=81,G={easy:62,medium:53,hard:44,"very-hard":35,insane:26,inhuman:17};a.BLANK_CHAR=".";a.BLANK_BOARD=".................................................................................";function X(){h=a._cross(C,E),O=a._get_all_units(C,E),I=a._get_square_units_map(h,O),j=a._get_square_peers_map(h,I)}a.generate=function(r,e){(typeof r=="string"||typeof r>"u")&&(r=G[r]||G.easy),r=a._force_range(r,A+1,B);for(var t="",n=0;n<A;++n)t+=".";var s=a._get_candidates_map(t),l=a._shuffle(h);for(var o in l){var f=l[o],i=a._rand_range(s[f].length),_=s[f][i];if(!a._assign(s,f,_))break;var d=[];for(o in h)f=h[o],s[f].length===1&&d.push(s[f]);if(d.length>=r&&a._strip_dups(d).length>=8){var g="",m=[];for(n in h)f=h[n],s[f].length===1?(g+=s[f],m.push(n)):g+=a.BLANK_CHAR;var y=m.length;if(y>r)for(m=a._shuffle(m),n=0;n<y-r;++n){var N=parseInt(m[n]);g=g.substr(0,N)+a.BLANK_CHAR+g.substr(N+1)}if(a.solve(g))return g}}return a.generate(r)};a.solve=function(r,e){var t=a.validate_board(r);if(t!==!0)throw t;var n=0;for(var s in r)r[s]!==a.BLANK_CHAR&&a._in(r[s],a.DIGITS)&&++n;if(n<B)throw"Too few givens. Minimum givens is "+B;e=e||!1;var l=a._get_candidates_map(r),o=a._search(l,e);if(o){var f="";for(var i in o)f+=o[i];return f}return!1};a.get_candidates=function(r){var e=a.validate_board(r);if(e!==!0)throw e;var t=a._get_candidates_map(r);if(!t)return!1;var n=[],s=[],l=0;for(var o in t){var f=t[o];s.push(f),l%9===8&&(n.push(s),s=[]),++l}return n};a._get_candidates_map=function(r){var e=a.validate_board(r);if(e!==!0)throw e;var t={},n=a._get_square_vals_map(r);for(var s in h)t[h[s]]=a.DIGITS;for(var l in n){var o=n[l];if(a._in(o,a.DIGITS)){var f=a._assign(t,l,o);if(!f)return!1}}return t};a._search=function(r,e){if(!r)return!1;e=e||!1;var t=0;for(var n in h){var s=h[n],l=r[s].length;l>t&&(t=l)}if(t===1)return r;var o=10,f=null;for(n in h)s=h[n],l=r[s].length,l<o&&l>1&&(o=l,f=s);var i=r[f];if(e){for(_=i.length-1;_>=0;--_)if(d=i[_],g=JSON.parse(JSON.stringify(r)),m=a._search(a._assign(g,f,d),e),m)return m}else for(var _ in i){var d=i[_],g=JSON.parse(JSON.stringify(r)),m=a._search(a._assign(g,f,d));if(m)return m}return!1};a._assign=function(r,e,t){var n=r[e].replace(t,"");for(var s in n){var l=n[s],o=a._eliminate(r,e,l);if(!o)return!1}return r};a._eliminate=function(r,e,t){if(!a._in(t,r[e]))return r;r[e]=r[e].replace(t,"");var n=r[e].length;if(n===1){var s=r[e];for(var l in j[e]){var o=j[e][l],f=a._eliminate(r,o,s);if(!f)return!1}}if(n===0)return!1;for(var i in I[e]){var _=I[e][i],d=[];for(var g in _){var m=_[g];a._in(t,r[m])&&d.push(m)}if(d.length===0)return!1;if(d.length===1&&(f=a._assign(r,d[0],t),!f))return!1}return r};a._get_square_vals_map=function(r){var e={};if(r.length!==h.length)throw"Board/squares length mismatch.";for(var t in h)e[h[t]]=r[t];return e};a._get_square_units_map=function(r,e){var t={};for(var n in r){var s=r[n],l=[];for(var o in e){var f=e[o];f.indexOf(s)!==-1&&l.push(f)}t[s]=l}return t};a._get_square_peers_map=function(r,e){var t={};for(var n in r){var s=r[n],l=e[s],o=[];for(var f in l){var i=l[f];for(var _ in i){var d=i[_];o.indexOf(d)===-1&&d!==s&&o.push(d)}}t[s]=o}return t};a._get_all_units=function(r,e){var t=[];for(var n in r)t.push(a._cross(r[n],e));for(var s in e)t.push(a._cross(r,e[s]));var l=["ABC","DEF","GHI"],o=["123","456","789"];for(var f in l)for(var i in o)t.push(a._cross(l[f],o[i]));return t};a.board_string_to_grid=function(r){var e=[],t=[];for(var n in r)t.push(r[n]),n%9===8&&(e.push(t),t=[]);return e};a.board_grid_to_string=function(r){for(var e="",t=0;t<9;++t)for(var n=0;n<9;++n)e+=r[t][n];return e};a.print_board=function(r){var e=a.validate_board(r);if(e!==!0)throw e;var t=" ",n=`
`,s="  ",l=`
`,o="";for(var f in r){var i=r[f];o+=i+t,f%3===2&&(o+=s),f%9===8&&(o+=n),f%27===26&&(o+=l)}console.log(o)};a.validate_board=function(r){if(!r)return"Empty board";if(r.length!==A)return"Invalid board size. Board must be exactly "+A+" squares.";for(var e in r)if(!a._in(r[e],a.DIGITS)&&r[e]!==a.BLANK_CHAR)return"Invalid board character encountered at index "+e+": "+r[e];return!0};a._cross=function(r,e){var t=[];for(var n in r)for(var s in e)t.push(r[n]+e[s]);return t};a._in=function(r,e){return e.indexOf(r)!==-1};a._first_true=function(r){for(var e in r)if(r[e])return r[e];return!1};a._shuffle=function(r){for(var e=[],t=0;t<r.length;++t)e.push(!1);for(t in r){for(var n=a._rand_range(r.length);e[n];)n=n+1>r.length-1?0:n+1;e[n]=r[t]}return e};a._rand_range=function(r,e){if(e=e||0,r)return Math.floor(Math.random()*(r-e))+e;throw"Range undefined"};a._strip_dups=function(r){var e=[],t={};for(var n in r){var s=r[n];t[s]||(e.push(s),t[s]=!0)}return e};a._force_range=function(r,e,t){return t=t||0,r=r||0,r<t?t:r>e?e:r};X();const Y=()=>a;function Z({board:r,initialBoard:e,handleInput:t,gridKey:n,gridSolved:s}){return S.useEffect(()=>{},[r,e,t]),c.jsxs("div",{className:"flex flex-col relative",style:{width:"400px",height:"400px"},children:[c.jsx("div",{className:"text-white border border-blue-800",children:r.map((l,o)=>c.jsx("div",{className:"grid grid-cols-9",children:l.map((f,i)=>c.jsx("div",{className:`${o%3==0?"border-t border-blue-800":""} ${i%3==0?"border-l border-blue-800":""}`,children:c.jsx("input",{type:"text",className:"text-center text-3xl bg-transparent w-12 h-12 disabled:bg-transparent disabled:text-gray-500 font-bold disabled:font-normal",value:f,disabled:e[o][i]!=".",maxLength:1,onChange:_=>t(_,o,i)})},i))},o))}),c.jsx("div",{className:"-z-10 opacity-40 absolute top-0 left-0 grid grid-rows-3",style:{width:"400px",height:"400px"},children:s&&s.map((l,o)=>c.jsx("div",{className:"grid grid-cols-3 items-center justify-center",children:l.map((f,i)=>c.jsx("div",{className:"text-8xl font-bold text-center text-blue-800 p-0",children:f?n[o][i]:""},i))},o))})]})}function q({message:r}){return c.jsx("div",{style:{maxWidth:"500px",overflowWrap:"break-word"},className:"text-white text-base py-8 px-4 lg:px-0",children:r})}function rr({handleDecrypt:r,message:e}){const[t,n]=S.useState(Array(9).fill(""));function s(l,o){const f=[...t],i=l.target.value.slice(-1);f[o]=i,n(f),r(f.join(""))}return c.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[c.jsx("div",{className:"flex items-center gap-3",children:t.map((l,o)=>c.jsx("input",{type:"text",className:"text-4xl p-3 w-12 h-12 text-center selection:text-blue-200 rounded-2xl bg-transparent text-red-700 border border-red-800",value:l,onChange:f=>s(f,o)},o))}),c.jsx("div",{className:"flex flex-col items-center justify-center gap-2 break-words",children:c.jsx(q,{message:e})})]})}function tr(){const r=Y(),[e,t]=S.useState([]),[n,s]=S.useState([]),[l,o]=S.useState([[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]]),[f,i]=S.useState([["f","S","0"],["c","1","e"],["t","y","1"]]),_="233d10005001155952133e400f54048516424a735c0c4245101c5c093d590c4245101c110a32101144111d1750463051065f49540b5410365c025f011b595d077346064301151d110930450f4504541d541221d110110111595d0720100ed016171843072010005e111d1d58073d51101f452716410a32100f5016540f540a3243434845101c42033d5d024206150b50463f51434300151558023254434010115948073055435c840759500a3fd14d",[d,g]=S.useState(_),[m,y]=S.useState(!1),N="fS0c1ety1";function T(u){return n[u]}function K(u){return n.map(v=>v[u])}function D(u,v){return n.slice(u-u%3,u-u%3+3).map(p=>p.slice(v-v%3,v-v%3+3)).flat()}function M(u,v,p){return T(v).includes(u)||K(p).includes(u)||D(v,p).includes(u)}function P(u,v){if(D(u,v).every(p=>p!="")){const p=[...l],x=Math.floor(u/3),b=Math.floor(v/3);p[x][b]=!0}}function H(u,v,p){const x=u.target.value;if(!M(x,v,p)||x==""){const w=[...n];w[v][p]=x,s([...w]),P(v,p)}}function U(u="",v=""){for(var p="",x=0;x<u.length;x+=2){var b=parseInt(u.substr(x,2),16),w=v.charCodeAt(x/2%v.length);p+=String.fromCharCode(b^w)}return p}function F(u){if(u==""){g(_);return}const v=U(_,u);g(v),u==N&&y(!0)}return S.useEffect(()=>{const u=".2184937558761...943.27..817.5.3.9..312.96857...75.134.965847..2...67.1....321596";console.log(r.print_board(r.solve(u)));const v=r.board_string_to_grid(u);t(v),s(v.map(p=>p.map(x=>x=="."?"":x)))},[]),c.jsxs("div",{className:"w-full lg:max-w-screen-lg xl:max-w-screen-xl mx-auto flex flex-col justify-between lg:gap-10 px-4 lg:px-0",children:[c.jsxs("div",{className:"w-full flex flex-col lg:flex-row items-center justify-center lg:justify-between gap-10",children:[c.jsx(Z,{board:n,handleInput:H,initialBoard:e,gridKey:f,gridSolved:l}),c.jsx(rr,{handleDecrypt:F,keySecret:N,message:d})]}),m&&c.jsx("div",{className:"flex mt-6 lg:mt-0",children:c.jsx("p",{className:"text-red-500 text-center font-bold",children:"Has desvelado la verdad detrás de las máscaras. Cada cumpleaños es una oportunidad para ver más allá de las apariencias. Que tus años estén llenos de revelaciones y autenticidad. ¡Feliz cumpleaños, Mr Alderson desenmascarador de realidades!"})})]})}export{tr as default};
